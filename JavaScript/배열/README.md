# 배열

- 배열은 정렬된 값의 집합으로, 배열 안의 각 값은 _원소_, 배열에서 위치를 가리키는 번호는 _인덱스_ 라고 한다.
- 배열은 타입이 고정되어 있지 않다 -> 같은 배열에 있는 원소 값의 타입은 다양할 수 있다.

### 배열 만들기

1. 배열 리터럴

```javascript
let emtpy = []; // 빈 배열
let array = [1, 2, 3, 4, 5]; // 원소가 5개인 배열
let mix = [1, "a", { x: 1, y: 2 }, true]; // 여러 자료형이 섞인 배열
```

2. Array( ) 생성자

```javascript
let array = new Array(); // 빈 배열
let array2 = new Array(10); // 배열의 길이가 주어진 형태, 어떠한 값도 저장되어 있지 않다.
let array3 = new Array(1, 2, 3, 4, 5); // 배열의 값을 할당하는 형태
```

### 배열의 원소 읽고 쓰기

- 객체와 접근 방법이 유사, 그러나 배열의 프로퍼티는 숫자로 접근, 숫자를 문자열로 바꿔서 접근하는 방식이 내장되어 있다.

```javascript
let array = [1, 2, 3, 4];
array["hi"] = "hi"; // [1, 2, 3, 4, hi: "hi"]
array[3]; // 4가 출력
```

### 희소배열 (Sparse Array)

- 배열에 속한 원소의 위치가 연속적이지 않은 배열, 배열의 원소가 비어있는 경우
- 보통 배열보다 일반적으로 느리고, 메모리를 많이 사용한다.
- 원소를 찾는데 걸리는 시간이 일반 객체의 속성 값을 찾는 시간만큼 오래 걸린다.

### 배열의 길이

- 모든 배열을 length 프로퍼티를 갖는다.
- 원소가 추가되면 알아서 length 프로퍼티의 값이 증가한다.

## 배열 메서드

- join( )
  - 배열의 모든 원소를 문자열로 변환하고, 변환한 문자들을 이어 붙인 결과를 반환한다.
  - 별도의 구분자가 없다면, 쉼표가 기본 값으로 사용된다.

```javascript
let a = [1, 2, 3];
a.join(); // "1,2,3"
a.join(" "); // "1 2 3"
a.join(""); // "123"
```

- reverse( )
  - 배열의 원소 순서를 반대로 뒤집어 반환한다.
  - 새로운 배열을 생성하는 것이 아니라, 이미 존재하는 배열 안에서 원소들의 순서를 뒤바꾼다.

```javascript
let a = [1, 2, 3];
a.reverse();
a; // [3, 2, 1]
```

- sort( )
  - 배열 안의 원소들을 정렬하여 반환한다.
  - 별도의 인자가 없다면, 배열 안의 원소들을 알파벳순으로 정렬한다.
  - undefined 원소의 경우, 배열의 끝부분에 정렬된다.

```javascript
let a = [1, 2, 3, 4];
a.sort(); // [1, 2, 3, 4]
a.sort((a, b) => {
  return b - a;
}); // [4, 3, 2, 1]
```

- concat( )
  - 배열을 연결하여 새로운 배열을 반환한다.
  - 중첩된 배열이 있는 경우, 중첩된 배열의 원소를 꺼내지는 않는다.

```javascript
let a = [1, 2, 3];
a = a.concat(4, 5); // [1, 2, 3, 4, 5]
a = a.concat(6, [7, 8]); // [1, 2, 3, 4, 5, 6, 7, 8]
a = a.concat(9, [10, [11, 12]]); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, Array(2)]
```

- slice( )
  - 부분 배열 (배열에서 잘라낸 원소들을 담은 새 배열) 을 반환한다.
  - slice(3, 5) -> 인덱스 3 ~ 4
  - slice(5) -> 인덱서 5 ~ 끝까지
  - 인자에서 -1은 맨 마지막 요소를 나타낸다.

```javascript
let a = [1, 2, 3, 4, 5];
a.slice(0, 3); // [1, 2, 3]을 반환, 원본은 변하지 않는다.
a.slice(-1); // [5]를 반환
```

- splice( )
  - 원소를 삽입하거나 원소를 제거할때 사용
  - 호출 대상 배열을 바로 수정한다. (원본이 변경된다)
  - splice(a, b, c) -> a : 작업을 시작할 위치, b : 배열에서 삭제할 원소의 개수 지정, c : 새롭게 삽입할 원소들

```javascript
let a = [1, 2, 3, 4, 5, 6];
a.splice(4); // [5, 6] 반환, a -> [1, 2, 3, 4]
a.splice(0, 2); // [1, 2] 반환, a -> [3, 4]
a.splice(0); // [3, 4] 반환, a -> []

a = [1, 2, 3, 4, 5];
a.splice(2, 0, "a", "b"); // []를 반환, a -> [1, 2, 'a', 'b', 3, 4, 5]
a.splice(2, 2, [1, 2], 3); // ['a', 'b']를 반환, a -> [1, 2, [1, 2], 3, 3, 4, 5]
```

- push( ) & pop( )
  - 스택처럼 활용 가능
  - 두 메서드 모두 배열의 끝에서 원소의 삽입과 삭제를 진행
  - pop( ) 은 삭제한 원소를 반환한다.
- unshift( ) & shift( )

  - push & pop 과 같은 기능을 하나, 원소의 삽입 삭제의 위치가 배열의 맨 앞에서 진행된다.

- toString( ) - 배열의 모든 원소를 문자열로 변환한다.
  <br />

## ECMAScript5 배열 메서드

- 희소배열의 경우, 없는 원소에 대해서는 함수 호출이 진행되지 않는다.
- forEach( )
  - 배열을 순회하는 메서드로, 첫 번째 인자로 넘긴 함수를 각각의 원소를 대상으로 호출한다.
  - 배열의 모든 원소가 순회되기 전에는 종료되지 않는다.
- map( )
  - 배열의 각 원소를 메서드의 첫 번째 인자로 지정한 함수에 전달하고, 해당 함수의 반환 값을 배열에 담아 반환한다.
  - forEach 와 다르게 map은 인자로 전달된 함수는 반드시 리턴 값이 존재해야 한다.
  - 기존 배열을 수정하지 않고, 새로운 배열을 반환한다.
  - 기존 배열이 희소배열이라면, 반환되는 배열 역시 희소배열이 된다.
- filter( )
  - 배열의 일부분을 반환한다.
  - 메서드에 전달하는 함수는 조건자 함수여야 한다. (항상 true or false를 반환하는)
  - 희소배열의 경우 빈 원소에 대해 함수를 실행하지 않기 때문에, 반환되는 배열에는 빈 원소가 없다.

```javascript
let a = [1, 2, 3, 4, 5];
small = a.filter((x) => {
  return x < 3;
});
[1, 2];
odd = a.filter((x, i) => {
  return i % 2 == 0;
});
[1, 3, 5];
```

- every( )
  - 전달인자로 넘긴 함수가 배열의 모든 원소에 대하여 true를 반환하는 경우, every( )는 true를 반환한다.
- some( ) - 배열의 일부 원소에 대해 true를 반환하면 some( )은 true를 반환한다.
  > every( )와 some( )은 반환 값이 결정되면 배열의 원소 순회를 중단한다. <br />
  > every( )의 경우, 모두 true일 경우에만 전체 원소를 순회한다. <br />
  > some( )의 경우, 모두 false일 경우에만 전체 원소를 순회한다.
- reduce( )
  - 인자로 주어진 함수를 사용하여 배열의 원소들을 하나의 값으로 결합한다.
  - reduce( ) 에서 사용되는 함수의 첫 번째 인자는 함수를 사용해 계산된 값의 누적된 결과다.

```javascript
let a = [1, 2, 3, 4, 5];
let sum = a.reduce((x, y) => {
  return x + y;
}); // 배열 a의 원소들의 합
```

- reduceRight( )

  - reduce( ) 와 동작은 같지만, 배열의 끝부터 처음 방향으로 함수를 작동해 처리한다.

- indexOf( ) & lastIndexOf( )
  - 배열의 원소 중에서 특정한 값을 찾는다. 만약 값이 존재하면 해당 값의 인덱스를 반환하고, 존재하지 않을 경우에는 -1을 반환한다.
  - indexOf는 앞에서부터, lastIndexOf는 뒤에서부터 검색
  - 매개변수로 찾고자 하는 값을 전달한다.
